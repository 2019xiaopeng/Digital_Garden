# 考研辅助全栈平台 - PRD & Roadmap (EVA 绫波丽主题)

## 1. 产品定位与美学
一个基于 **EVA 绫波丽 (Rei Ayanami)** 主题美学的考研辅助与个人知识管理全栈平台。
- **视觉风格**: 极简高级、冷白/深邃黑为主，辅以绫波丽标志性的浅蓝（#88B5D3）和初号机/零号机的橙色（#FF9900）点缀。
- **核心用户**: 考研备考学生（408 + 数一 + 英一 + 政治），需要高度专注、时间管理和知识沉淀的极客。

## 2. 核心功能模块与新增完善功能 (5个以上)

### 2.1 任务与计划 (Tasks)
- **现有**: 日历/时间轴/甘特图视图、番茄钟全屏沉浸、重复任务。
- **新增完善 1: 任务重新编辑与拖拽排序**。支持直接点击任务进行修改，并在时间轴视图中拖拽调整优先级。
- **新增完善 2: 智能延期与一键顺延**。对于未完成的任务，提供一键“顺延至明天”或“重新分配”功能。
- **新增完善 3: 任务关联知识库**。任务可以直接链接到知识库中的某篇笔记，复习时一键跳转。
- **新增完善 4: 四科目任务视图**。任务支持科目维度过滤（408/数一/英一/政治），并自动统计每日科目配比。

### 2.2 每日留痕 (Blog)
- **现有**: Markdown 编辑、标签过滤、分页、沉浸式预览。
- **新增完善 4: 学习情绪与状态打卡**。在发布留痕时，可以选择今日的“同步率”（心情/专注度），并在日历上以颜色深浅显示。
- **新增完善 (New): Markdown 快捷键编辑器**。集成工具栏 (H1/Bold/List) 与快捷键支持，移除评论区，完善标签/心情字段。

### 2.3 知识库与资源站 (Notes & Resources)
- **现有**: 树状目录、AI 问答、资源卡片。
- **新增完善 5: 本地文件直传与目录管理**。支持从本地拖拽上传 PDF/Markdown，支持新建文件夹、重命名、移动文件。
- **新增完善 6: 知识图谱 (Knowledge Graph)**。基于双向链接，自动生成个人知识库的网状图谱，直观展示知识点间的联系。

### 2.4 考研大盘 (Dashboard)
- **现有**: 倒计时、进度条、快捷入口。
- **新增完善 7: 艾宾浩斯记忆曲线复习提醒**。系统自动根据学习记录，在首页提示今日需要复习的知识点或错题。
- **新增完善 8: 学习时长签到系统**。支持“签到/签退”记录专注时长，展示科目分布饼图、专注热力图与 Streak Freeze (连胜冻结) 机制。

### 2.5 AI 助手体验优化（5 项）
- **新增完善 11: 意图模式切换**（总结/检索/生成/计划/复盘）。
- **新增完善 12: 上下文可见与可控**（可勾选引用片段）。
- **新增完善 13: 多轮记忆与工作流**（阶段性任务自动收束）。
- **新增完善 14: 失败兜底**（资料不足时给出补全路径）。
- **新增完善 15: 输出结构化**（复习卡片、时间表、错题清单模板）。

### 2.6 内置浏览器与视频播放
- **新增完善 16: 内置浏览器**。可直接打开 B 站链接或 BV 号播放。
- **新增完善 17: 视频资源绑定**。资源站的资源可绑定视频链接并在内置浏览器内播放。

## 3. 开发路线图 (Roadmap)

### Phase 1: 视觉重构与前端交互完善 (当前阶段)
- [x] 确立 EVA 绫波丽主题美学，全面适配深色模式。
- [x] 完善任务重新编辑功能。
- [x] 知识库/资源站接入本地文件上传与文件夹创建 UI。
- [ ] 优化深色模式细节（输入框背景、卡片边框、悬浮态）。
- [ ] 增加四科目视图（408/数一/英一/政治）与进度大盘联动。
- [ ] 资源站加入目录上传、科目筛选与视频播放入口。

### Phase 2: 本地化架构改造 (Week 1-2)
- **目标**: 将纯 Web 应用改造为“本地优先”的桌面端软件。
- **技术栈**: Tauri + React + SQLite/本地文件系统。
- **任务**:
  - 使用 Tauri 包装现有 React 应用。
  - 实现本地文件系统的读写 API（替代云端数据库），将 Markdown 和 PDF 直接存在本地硬盘。
  - 搭建局域网 Web Server，允许同 WiFi 下的平板/手机访问。

### Phase 3: AI 深度集成与 DeepSeek 接入 (Week 3-4)
- **目标**: 接入 DeepSeek API 作为知识库大脑。
- **任务**:
  - 在设置页添加 API Key 配置项。
  - 实现本地文档的向量化（使用本地向量数据库如 ChromaDB 或 SQLite-VSS）。
  - 实现 RAG（检索增强生成），让 DeepSeek 能读取本地 PDF 和 Markdown 回答问题。

### Phase 4: 核心业务逻辑闭环 (Week 5-6)
- **目标**: 完善考研辅助的自动化功能。
- **任务**:
  - 实现艾宾浩斯复习算法，每天生成复习任务。
  - 完善学习状态统计，生成 GitHub 风格的热力图。
  - 错题本自动归档与组卷功能。

### Phase 5: 性能优化与发布 (Week 7)
- **目标**: 打造极致流畅的本地软件体验。
- **任务**:
  - 优化大文件（PDF）的本地加载与渲染速度。
  - 完善深色/浅色模式的平滑切换动画。
  - 打包发布 Windows/macOS 安装包。
